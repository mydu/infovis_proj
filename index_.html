<!DOCTYPE html>
<meta charset="utf-8">
<title>ACT College Students Migration</title>
<style>
  body{
    background-color: #f0f0f0 !important;
  }
  #story{
    border: 1px solid #ddd;
    border-radius: 10px;
    width: 200px;
  }
 /* #content{
    margin-left:10px;
    display: none;
  }*/

  rect {
    background-color: white;
    shape-rendering: crispEdges;
    cursor: pointer;
  }

  h1,p,text{
    font-family: Lato;
  }

  .highlight{
    stroke: #000;
  }

  .parsets.tooltip { opacity: 1; }

  .link{
    stroke-opacity: .2;
  }
  #major{
    background-color: white;
    margin-left:10px;
    width:80%;
    font-size:15px;
    margin-top: 20px;
  }
  .bold{
    font-weight: bold;
  }
  #title{
    padding:10px;
    margin-left:10px;
    background-color: white;
  }
  #majortips{
    display:none;
  }
  #Demand{
    margin-left:10px;
    margin-top:10px;
  }
  #fitParset{
    background-color: white;
  }
  #cluster_chart{
    background-color: white;
    margin-left: 10px;
    width:40%;
  }
/*.link:hover {
  stroke-opacity: .7;
}*/

</style>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"> 
<link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
<link rel="stylesheet" type="text/css" href="css/d3.parsets.css">
<link rel="stylesheet" type="text/css" href="css/d3.slider.css">
<script src="http://code.jquery.com/jquery-1.10.2.js"></script>
<script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
<script src="http://d3js.org/d3.v3.min.js"></script>
<!-- <script src="lib/d3.min.js"></script> -->
<script src="lib/underscore-min.js"></script>
<script type="text/javascript"  src="lib/crossfilter.min.js"></script>

<script src="lib/sankey.js"></script>
<script src="lib/d3.parsets.js"></script>
<script src="lib/d3.slider.js"></script>

<script src="js/predata.js"></script>
<script src="js/clusterBubble.js"></script>
<script src="js/majorSankey.js"></script>
<script src="js/main.js"></script>
<body>
  <!-- <div id="wait">Please wait for a second..</div> -->
  <div id="content">
    <h2>College Student Major Migration</h2>
    <div id="title">
      <span>This visualization shows how the major of interests changes and how the students be fit for the majors.</span>
      <a href="http://vacommunity.org/ieeevpg/viscontest/2015//?page=ieeevpg/2015/">Data source</a>
      <br/>
      <span>It consists of three graphs:</span>
      <br/>
      <span>1.Major Migration Chart encodes major selected in three years(ColumnID 3,4,5).</span><a href="http://vacommunity.org/ieeevpg/viscontest/2015//student_flow_aggregated_field_descriptions.pdf#page=3">Check Data Description</a>
      <br/>
      <span>2.Fit Chart encodes whether students are fit for the majors in the three years(ColumnID 6,7,8).</span><a href="http://vacommunity.org/ieeevpg/viscontest/2015//student_flow_aggregated_field_descriptions.pdf#page=3">Check Data Description</a>
      <br/>
      <span>3.Cluster Chart encodes gender and ACT scores(ColumnID 1,2).</span><a href="http://vacommunity.org/ieeevpg/viscontest/2015//student_flow_aggregated_field_descriptions.pdf#page=3">Check Data Description</a>
      <br/>
    </div>

    <div class="row" id="major">

      <div id="chart_title" class="col-md-9">
        <h3>Major Migration Chart</h3>
        <span>The sankey graph demonstrates how the interests for major change during the three years.</span><br/>
        
        <span class="glyphicon glyphicon-plus" id="checkmajortips">Tips</span><br/>
        <div id="majortips">
          <span>1. Hover the rectangle to check how the student changes for this major</span><br/>
          <span>2. Click on the rectangle to see the real major and best fit major. If you want to go back, just clicking on the white part in the graph</span><br/>
          <span>3. You can use scale to filter the least number of students</span><br/>
          <span>4. Hover on the legend to check how the students change in this three years</span><br/>
        </div>
      </div>
      <div id="majorSankey" class="col-md-6"></div>
      <div id="legend" class="col-md-3">
        <div id="size_legend"></div>
        <div id="size_slider">
          <p style="font-weight:bold;">Filter links greater than <input type="text" class="text-primary" id="amount" style="border:0; width:50px">
          </p>
          <div id="slider" style="width:160px; margin-left:10px;"></div>

        </div>
        <div id="bestfit_legend"></div>
        <div id="major_legend"></div>
      </div>
      <div id="story" class="col-md-3">
       <p>Data Fact</p>
     </div>
   </div>

   <div class="row" id="Demand">

    <div id="fitParset" class="col-md-6">
      <h3 >Fit Chart</h3>
      <span>The parallel set demonstrates how the major fits the students during the three years.</span><br/><br/>
    </div>

      <div id="clusterChart" class="col-md-6">
       <h3>Cluster Chart</h2>
        <div class="btn-group" data-toggle="buttons">
        <label class="clusterbtn btn btn-default active" id="all">
          <input type="radio" name="options"> Overview
        </label>
        <label class="clusterbtn btn btn-default" id="changeT2">
          <input type="radio" name="options"> Migration in First Year (T1 to T2)
        </label>
        <label class="clusterbtn btn btn-default" id="changeT3">
          <input type="radio" name="options"> Migration in Second Year (T2 to T3)
        </label>
      </div>    
      <div id="cluster"></div>
      <div id="cluster_legend">
        <div id="gender_legend" class="col-md-2"></div>
        <div id="actCtl" class="col-md-3">
          <p>ACT Score</p>
          <div id="act_legend"></div>
          <div id="clusterSlider"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>

  // var myVar = setInterval(setChartSize, 1000);

  // function setChartSize() {
  //   $("#clusterChart").css("height",$("#fitParset").height());
  //   $("#title").css("width",$("#major").css("width"));
  //   $("#clusterChart").css("width",parseInt($("#major").css("width"))-parseInt($("#fitParset").css("width"))-10);
  // }

  $("#checkmajortips").click(function(){
    if($("#majortips").css("display") == "none"){
      $("#majortips").css("display","block");
    }else if($("#majortips").css("display") == "block"){
      $("#majortips").css("display","none");
    }
  });

</script>

</body>
</html>
